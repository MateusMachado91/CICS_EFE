Regras de ValidaÃ§Ã£o

ğŸ”¹ FILE (Nome do Arquivo)
Deve comeÃ§ar com o valor de SolicitaÃ§Ã£o.CSS.Text
Convertido para maiÃºsculas
ValidaÃ§Ã£o feita em consiste_file()

ğŸ”¹ DSNAME
Deve comeÃ§ar com BPD + SolicitaÃ§Ã£o.CSS.Text
Deve conter .D e .G00000
NÃ£o pode conter _
ValidaÃ§Ã£o feita em consiste_dsname()
Ele exibe um exemplo na tela BPDPXU.D____.G00000

ğŸ”¹ SERVREQ (ServiÃ§os)
Pelo menos um dos 5 serviÃ§os deve estar marcado
ValidaÃ§Ã£o feita em consiste_servreq()

ğŸ”¹ STRNO (NÃºmero de Strings)
Valor entre 1 e 10
Se SERVREQ(1)*Browse estiver marcado, deve ser â‰¥ 3
ValidaÃ§Ã£o feita em consiste_strno()

ğŸ”¹ SYSIDNT (CICS Remoto)
NÃ£o pode estar vazio
ValidaÃ§Ã£o feita em consiste_sysidnt()

ğŸ”¹ cod_agencia
Deve ser numÃ©rico e diferente de zero
Preenchido com zeros Ã  esquerda atÃ© 4 dÃ­gitos
ValidaÃ§Ã£o feita em consiste_padrao()

ğŸ”¹ ARQS_PADRAO
Pelo menos um dos 5 arquivos deve estar marcado
ValidaÃ§Ã£o feita em consiste_padrao()


Montagem de Registros

ğŸ”¹ Local (monta_reg_local)
Campos:
NÃºmero de serviÃ§os selecionados
Status (FILSTAT)
Formato (RECFM)
ServiÃ§os (SERVREQ)
DSNAME BPDPXU.D____.G00000
STRNO

__________________________________________________________________
ğŸ”¹ PadrÃ£o (monta_reg_padrao)
Tipo: I, O, S, P, X
ServiÃ§os sÃ£o definidos por tipo
DSNAME Ã© montado como:
BPDBNOA.D<TIPO>I001.G00000.AGE<cod_agencia>
STRNO fixado como "03"

Prefixo: "BNO" + tipo + cod_agencia
Tipo Ã© derivado da posiÃ§Ã£o do checkbox:

I â†’ Ãndice
O â†’ Outros 5 ServiÃ§os â†’ Add, Browse, Delete, Read, Update.
S â†’ Sustados
P â†’ Pacote 4 ServiÃ§os â†’ Add, Browse, Read, Update.
X â†’ Ãndice Alternado do Pacote 2 ServicÃ§os â†’  Browse, Read, 

DSNAME gerado:
BPDBNOA.D<TIPO>I001.G00000.AGE<cod_agencia>


NÃºmero de strings (STRNO) fixado como "03".

ServiÃ§os incluÃ­dos por tipo:

I: Browse, Read, Update
O: Todos os serviÃ§os
S e P: Add, Browse, Read, Update
X: Browse, Read


Checklist: Preenchimento PadrÃ£o BNO (Tela "SolicitaÃ§Ãµes para o ambiente CICS")

1. CÃ³digo da AgÃªncia
ObrigatÃ³rio
Preencher com 4 dÃ­gitos numÃ©ricos (ex: 0045)
NÃ£o pode ser zero.
Campo: cod_agencia

2. Arquivos PadrÃ£o (BNO)
Marcar pelo menos um dos seguintes arquivos padrÃ£o BNO:
Ãndice (BNOI1age)
Outros (BNOO1age)
Sustados (BNOS1age)
Pacote (BNOP0age)
Ãndice alternado do Pacote (BNOX0age)
(Campos: ARQS_PADR O(0 a 4))
Se nenhum arquivo for marcado, nÃ£o Ã© possÃ­vel prosseguir.

3. Status e Formato
Status inicial: Enable
Formato do registro: Fixed
Geralmente jÃ¡ vÃªm selecionados como padrÃ£o.

4. ServiÃ§os
Os serviÃ§os disponÃ­veis sÃ£o: Add, Browse, Delete, Read, Update
Geralmente, para o padrÃ£o BNO, os serviÃ§os sÃ£o preenchidos automaticamente pela aplicaÃ§Ã£o conforme o tipo de arquivo selecionado.
Se estiver editando manualmente, marque os serviÃ§os necessÃ¡rios para a operaÃ§Ã£o.
No "caso geral" pelo menos um serviÃ§o tem que estar marcado.

5. NÃºmero de Strings
STRNO = "03" (padrÃ£o). Normalmente ajustado automaticamente para o padrÃ£o BNO.
Valor aceito: 01 atÃ© 10.

6. Campos Gerados
O nome do registro e o nome do DSNAME serÃ£o preenchidos automaticamente conforme a seleÃ§Ã£o dos campos acima:
Exemplo DSNAME: BPDBNOA.DI I001.G00000.AGE1234

7. ValidaÃ§Ã£o
Todos os campos obrigatÃ³rios validados pelo formulÃ¡rio antes de submeter.
Caso falta algo (campo incompleto, valor fora das regras, serviÃ§o/arquivo nÃ£o marcado, etc.), o sistema avisa e impede a gravaÃ§Ã£o.
Fluxo bÃ¡sico do preenchimento no padrÃ£o BNO:
Marque â€œPadrÃ£o BNOâ€ no tipo de requisiÃ§Ã£o.
Preencha o CÃ³digo da AgÃªncia (4 dÃ­gitos, >0).
Escolha ao menos 1 tipo de Arquivo PadrÃ£o.
Verifique se ao menos 1 ServiÃ§o estÃ¡ marcado (ou observe o preenchimento automÃ¡tico).
STRNO deve estar com "03" (ou ajuste se necessÃ¡rio, dentro do intervalo 01â€“10).
Os campos Status/Formato geralmente jÃ¡ vÃªm preenchidos como "Enable"/"Fixed".
Submeta a solicitaÃ§Ã£o.


__________________________________________________________________



ğŸ”¹ Remoto (monta_reg_remoto)
Apenas inclui SYSIDNT.Text
Ele exibe uma lista de Ambientes, no INI estÃ¡ com Sim e NÃ£o do lado
**VAMOS MONTAR UMA TABELA ONDE O ADMIN PODE ALTERAR O SIM E O NÃƒO.


Regras Condicionais e Fluxo

ğŸ”¹Se operaÃ§Ã£o for Excluir, campos de entrada sÃ£o ocultados
ğŸ”¹Se ambiente for diferente de "ACICS" e tipo for PadrÃ£o BNO, forÃ§a tipo Local
ğŸ”¹ApÃ³s confirmaÃ§Ã£o (SIM), o registro Ã© gravado e o formulÃ¡rio Ã© resetado

ğŸ”¹SolicitaÃ§Ã£o.APPLID.List Ã© usado para popular SYSIDNT